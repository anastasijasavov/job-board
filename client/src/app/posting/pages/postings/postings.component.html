<ng-container *ngIf="this.loggedInUser$ | async as user">
  <ng-container *ngIf="company">
    <button [routerLink]="['/company', company._id]">
      <h1>
        {{ company.name }}
      </h1>
    </button>

    <ng-container *ngFor="let posting of postings">
      <div>
        <h2>Position: {{ posting.position }}</h2>
        <p>Description: {{ posting.description }}</p>
        <p>Remote: {{ posting.remote ? "Yes" : "No" }}</p>
        <span>Requirements: </span>
        <ng-container *ngFor="let req of posting.requirements">
          <span>{{ req }}, </span>
        </ng-container>

        <ng-container *ngIf="posting.location">
          <h3>
            {{ posting.location.country }}, {{ posting.location.city }},
            {{ posting.location.address }}
          </h3>
        </ng-container>

        <ng-container *ngIf="posting.salary">
          <h3>Salary {{ posting.salary }}</h3>
        </ng-container>

        <br />
        <br />

        <ng-container *ngIf="(user | UserTypeOf) === UserType.Person">
          <button (click)="apply(posting._id)">Apply!</button>
        </ng-container>
        <ng-container *ngIf="(user | UserTypeOf) === UserType.Company">
          <ng-container *ngIf="user._id === posting.company._id">
            <ng-container *ngFor="let a of posting.applicants!">
              <div>
                <p>{{ a.name }} - {{ a.email }}</p>
              </div>
            </ng-container>

            <button (click)="deletePosting(posting._id)">Delete</button>
          </ng-container>
        </ng-container>

        <!-- create update -->
      </div>
    </ng-container>
  </ng-container>
</ng-container>
